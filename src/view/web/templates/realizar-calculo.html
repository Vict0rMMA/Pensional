<!DOCTYPE html>
<html>
  <head>
    <title>Realizar cálculo</title>
  </head>
  <body>
    <h1>Realizar cálculo</h1>
    <form action="{{ url_for('realizar_calculo') }}" method="post">
      <label for="tipo_calculo">Tipo de cálculo:</label>
      <select id="tipo_calculo" name="tipo_calculo" required>
        <option value="">Seleccione el tipo de cálculo</option>
        <option value="ahorro_pensional">Ahorro pensional</option>
        <option value="calculo_pension">Cálculo de pensión</option>
      </select>

      <div id="campos_ahorro_pensional" style="display: none;">
        <label for="salario">Salario:</label>
        <input type="number" id="salario" name="salario" step="0.01" required>

        <label for="semanas_laboradas">Semanas laboradas:</label>
        <input type="number" id="semanas_laboradas" name="semanas_laboradas" required>

        <label for="rentabilidad_fondo">Rentabilidad del fondo (decimal):</label>
        <input type="number" id="rentabilidad_fondo" name="rentabilidad_fondo" step="0.01" required>

        <label for="tasa_administracion">Tasa de administración (decimal):</label>
        <input type="number" id="tasa_administracion" name="tasa_administracion" step="0.01" required>
      </div>

      <div id="campos_calculo_pension" style="display: none;">
        <label for="ahorro_pensional_esperado">Ahorro pensional esperado:</label>
        <input type="number" id="ahorro_pensional_esperado" name="ahorro_pensional_esperado" step="0.01" required>
        <label for="esperanza_vida">Esperanza de vida:</label>
    <input type="number" id="esperanza_vida" name="esperanza_vida" required>

    <label for="estado_civil">Estado civil:</label>
    <select id="estado_civil" name="estado_civil" required>
      <option value="">Seleccione el estado civil</option>
      <option value="soltero">Soltero</option>
      <option value="casado">Casado</option>
    </select>
  </div>

  <input type="submit" value="Realizar cálculo">
</form>

<script>
  const tipoCalculoSelect = document.getElementById("tipo_calculo");
  const camposAhorroPensional = document.getElementById("campos_ahorro_pensional");
  const camposCalculoPension = document.getElementById("campos_calculo_pension");

  tipoCalculoSelect.addEventListener("change", function() {
    if (tipoCalculoSelect.value === "ahorro_pensional") {
      camposAhorroPensional.style.display = "block";
      camposCalculoPension.style.display = "none";
    } else if (tipoCalculoSelect.value === "calculo_pension") {
      camposAhorroPensional.style.display = "none";
      camposCalculoPension.style.display = "block";
    } else {
      camposAhorroPensional.style.display = "none";
      camposCalculoPension.style.display = "none";
    }
  });
</script>        